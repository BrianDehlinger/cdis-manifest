[
  {
    "name": "pelican-export",
    "action": "export",
    "container": {
      "name": "job-task",
      "image": "quay.io/cdis/pelican-export:2020.06",
      "pull_policy": "Always",
      "env": [
        {
          "name": "DICTIONARY_URL",
          "valueFrom": {
            "configMapKeyRef": {
              "name": "manifest-global",
              "key": "dictionary_url"
            }
          }
        },
        {
          "name": "GEN3_HOSTNAME",
          "valueFrom": {
            "configMapKeyRef": {
              "name": "manifest-global",
              "key": "hostname"
            }
          }
        },
        {
          "name": "ROOT_NODE",
          "value": "subject"
        }
      ],
      "volumeMounts": [
        {
          "name": "pelican-creds-volume",
          "readOnly": true,
          "mountPath": "/pelican-creds.json",
          "subPath": "config.json"
        },
        {
          "name": "peregrine-creds-volume",
          "readOnly": true,
          "mountPath": "/peregrine-creds.json",
          "subPath": "creds.json"
        }
      ],
      "cpu-limit": "1",
      "memory-limit": "12Gi"
    },
    "volumes": [
      {
        "name": "pelican-creds-volume",
        "secret": {
          "secretName": "pelicanservice-g3auto"
        }
      },
      {
        "name": "peregrine-creds-volume",
        "secret": {
          "secretName": "peregrine-creds"
        }
      }
    ],
    "restart_policy": "Never"
  },
  {
    "name": "ingest-metadata-manifest",
    "action": "ingest-metadata-manifest",
    "activeDeadlineSeconds": 86400,
    "serviceAccountName": "jobs-gen3-datacommons-io",
    "container": {
      "name": "job-task",
      "image": "quay.io/cdis/metadata-manifest-ingestion:2.0.0",
      "pull_policy": "Always",
      "env": [
        {
          "name": "GEN3_HOSTNAME",
          "valueFrom": {
            "configMapKeyRef": {
              "name": "manifest-global",
              "key": "hostname"
            }
          }
        }
      ],
      "volumeMounts": [
        {
          "name": "creds-volume",
          "readOnly": true,
          "mountPath": "/creds.json",
          "subPath": "creds.json"
        }
      ],
      "cpu-limit": "1",
      "memory-limit": "1Gi"
    },
    "volumes": [
      {
        "name": "creds-volume",
        "secret": {
          "secretName": "sower-jobs-g3auto"
        }
      }
    ],
    "restart_policy": "Never"
  },
  {
    "name": "get-dbgap-metadata",
    "action": "get-dbgap-metadata",
    "serviceAccountName": "jobs-gen3-datacommons-io",
    "container": {
      "name": "job-task",
      "image": "quay.io/cdis/get-dbgap-metadata:2.0.0",
      "pull_policy": "Always",
      "env": [],
      "volumeMounts": [
        {
          "name": "creds-volume",
          "readOnly": true,
          "mountPath": "/creds.json",
          "subPath": "creds.json"
        }
      ],
      "cpu-limit": "1",
      "memory-limit": "1Gi"
    },
    "volumes": [
      {
        "name": "creds-volume",
        "secret": {
          "secretName": "sower-jobs-g3auto"
        }
      }
    ],
    "restart_policy": "Never"
  },
  {
    "name": "manifest-indexing",
    "action": "index-object-manifest",
    "activeDeadlineSeconds": 86400,
    "serviceAccountName": "jobs-gen3-datacommons-io",
    "container": {
      "name": "job-task",
      "image": "quay.io/cdis/manifest-indexing:2.0.2",
      "pull_policy": "Always",
      "env": [
        {
          "name": "GEN3_HOSTNAME",
          "valueFrom": {
            "configMapKeyRef": {
              "name": "manifest-global",
              "key": "hostname"
            }
          }
        }
      ],
      "volumeMounts": [
        {
          "name": "sower-jobs-creds-volume",
          "readOnly": true,
          "mountPath": "/creds.json",
          "subPath": "creds.json"
        }
      ],
      "cpu-limit": "1",
      "memory-limit": "1Gi"
    },
    "volumes": [
      {
        "name": "sower-jobs-creds-volume",
        "secret": {
          "secretName": "sower-jobs-g3auto"
        }
      }
    ],
    "restart_policy": "Never"
  },
  {
    "name": "manifest-merging",
    "action": "merge-manifests",
    "activeDeadlineSeconds": 86400,
    "serviceAccountName": "jobs-gen3-datacommons-io",
    "container": {
      "name": "job-task",
      "image": "quay.io/cdis/manifest-merging:master",
      "pull_policy": "Always",
      "env": [
        {
          "name": "GEN3_HOSTNAME",
          "valueFrom": {
            "configMapKeyRef": {
              "name": "manifest-global",
              "key": "hostname"
            }
          }
        }
      ],
      "volumeMounts": [
        {
          "name": "sower-jobs-creds-volume",
          "readOnly": true,
          "mountPath": "/creds.json",
          "subPath": "creds.json"
        }
      ],
      "cpu-limit": "1",
      "memory-limit": "1Gi"
    },
    "volumes": [
      {
        "name": "sower-jobs-creds-volume",
        "secret": {
          "secretName": "sower-jobs-g3auto"
        }
      }
    ],
    "restart_policy": "Never"
  },
  {
    "name": "indexd-manifest",
    "action": "download-indexd-manifest",
    "activeDeadlineSeconds": 86400,
    "serviceAccountName": "jobs-gen3-datacommons-io",
    "container": {
      "name": "job-task",
      "image": "quay.io/cdis/download-indexd-manifest:2.0.0",
      "pull_policy": "Always",
      "env": [
        {
          "name": "GEN3_HOSTNAME",
          "valueFrom": {
            "configMapKeyRef": {
              "name": "manifest-global",
              "key": "hostname"
            }
          }
        }
      ],
      "volumeMounts": [
        {
          "name": "sower-jobs-creds-volume",
          "readOnly": true,
          "mountPath": "/creds.json",
          "subPath": "creds.json"
        }
      ],
      "cpu-limit": "1",
      "memory-limit": "1Gi"
    },
    "volumes": [
      {
        "name": "sower-jobs-creds-volume",
        "secret": {
          "secretName": "sower-jobs-g3auto"
        }
      }
    ],
    "restart_policy": "Never"
  }
]
